<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uma Intimação para Duda Fofano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Montserrat&family=Pacifico&family=Playfair+Display&family=Poppins:wght@300;400;600&family=Roboto+Slab&family=Source+Code+Pro&display=swap" rel="stylesheet">
    <!-- Font Awesome para o ícone de exclamação --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" xintegrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0pReWSf2o+pkFdgycMh502z+r6u9oX/eB6c+Q4j5v/1x/0iC9p+z+H5sA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a2e;
            overflow-x: hidden;
        }
        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }
        h2 {
            font-family: 'Roboto Slab', serif;
        }
        #planner-content {
            font-family: 'Source Code Pro', monospace;
            font-size: 1.25rem;
            line-height: 1.75rem;
            min-height: 250px;
            transition: opacity 0.3s ease-in-out;
        }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 5s infinite ease-in-out;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1); }
        }
        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .btn-magic {
            background: linear-gradient(45deg, #f87171, #fb923c, #a78bfa, #c084fc);
            background-size: 400% 400%;
            animation: gradient-animation 10s ease infinite;
        }
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .fade-in {
            animation: fadeInAnimation 1s ease-in forwards;
            opacity: 0;
        }
        @keyframes fadeInAnimation {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-out {
            animation: fadeOutAnimation 1s ease-out forwards;
        }
        @keyframes fadeOutAnimation {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .planner-choice {
             background-color: rgba(255, 255, 255, 0.1);
             border: 1px solid rgba(255, 255, 255, 0.2);
             transition: background-color 0.3s, transform 0.2s;
        }
        .planner-choice:hover {
            background-color: rgba(192, 132, 252, 0.5); /* Cor roxa com transparência */
            transform: scale(1.05);
        }
        .fade-in-delay-1 { animation-delay: 0.2s; }
        .fade-in-delay-2 { animation-delay: 0.4s; }
        .fade-in-delay-3 { animation-delay: 0.6s; }

        /* Estilos do Modal de Erro */
        .error-modal-border {
            border: 2px solid #ef4444; /* Borda vermelha para erro */
        }
    </style>
</head>
<body class="text-white">

    <!-- Fundo de estrelas --><div id="star-background" class="fixed top-0 left-0 w-full h-full -z-10"></div>

    <!-- Tela de Início --><div id="start-screen" class="fixed top-0 left-0 w-full h-full z-20 flex flex-col items-center justify-center text-center p-4">
        <header class="mb-8 fade-in">
            <h1 class="font-pacifico text-4xl md:text-6xl text-purple-300 drop-shadow-lg">A Prova de que Estou Marcando Algo, Duda Fofano</h1>
            <p class="mt-4 text-lg text-gray-300">(Uma resposta formal à acusação de que eu nunca marco nada)</p>
        </header>
        <button id="start-button" class="btn-magic text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg fade-in fade-in-delay-1">
            Analisar as evidências
        </button>
    </div>

    <!-- Conteúdo Principal --><main id="main-content" class="hidden">
        <div class="container mx-auto px-4 py-12 min-h-screen flex flex-col items-center justify-center">

            <!-- Seção 1: Stalker Simulator --><section class="w-full max-w-2xl text-center mb-16 fade-in fade-in-delay-1">
                <div class="card rounded-2xl p-8 shadow-2xl">
                     <h2 class="text-3xl font-bold mb-4 text-amber-300">Stalker Simulator 2025</h2>
                     <p class="mb-6">Uma simulação da sua frustrante busca por informações nas minhas redes sociais.</p>
                     <div class="bg-gray-900 rounded-lg p-4 mb-6 text-left">
                        <p class="text-lg text-gray-300 mb-4">O que você quer saber nos meus perfis que eu não possa te contar pessoalmente?</p>
                        <textarea id="stalker-question" rows="2" class="w-full bg-gray-800 text-white p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Digite sua pergunta aqui..."></textarea>
                        <button id="stalker-button" class="w-full mt-4 btn-magic text-white font-bold py-2 px-6 rounded-full transition-transform transform hover:scale-105 shadow-lg">
                            Perguntar (e talvez se arrepender)
                        </button>
                     </div>
                </div>
            </section>

            <!-- Seção 2: Planejador de Rolês --><section class="w-full max-w-2xl text-center mb-16 fade-in fade-in-delay-2">
                <div class="card rounded-2xl p-8 shadow-2xl">
                    <h2 class="text-3xl font-bold mb-4 text-pink-300">Planejador de Rolês (Automático)</h2>
                    <p class="mb-6">se eu sou ruim de marcar algo a tecnologia ajuda..</p>
                    <div id="planner-content" class="mb-6 text-green-400"></div>
                    <button id="planner-button" class="btn-magic text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg" style="display: none;">
                        Reiniciar Planejamento
                    </button>
                </div>
            </section>
        </div>

        <!-- Rodapé --><footer class="text-center py-8 text-gray-400 text-sm">
            <p>Feito por alguém que agora, comprovadamente, marca as coisas.</p>
        </footer>
    </main>

    <!-- Modal Stalker --><div id="stalker-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4 fade-in">
        <div class="bg-gray-800 rounded-2xl shadow-2xl max-w-sm w-full text-center p-6 error-modal-border">
            <div class="flex flex-col items-center mb-4">
                <i class="fas fa-exclamation-triangle text-red-500 text-5xl mb-4"></i>
                <h3 id="modal-error-code" class="text-xl font-bold text-red-400 mb-2"></h3>
            </div>
            <p id="modal-error-description" class="text-white mb-6"></p>
            <button id="modal-close-button" class="btn-magic text-white font-bold py-2 px-6 rounded-full">Entendido</button>
        </div>
    </div>

    <!-- Reprodutor de Música do YouTube --><div id="player" style="display: none;"></div>

    <script>
        // Carrega a API do YouTube Player de forma assíncrona.
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        // Esta função é chamada pela API do YouTube quando o código está pronto.
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: '7217Xga4zOw', // ID do vídeo atualizado
                playerVars: {
                    'autoplay': 1,
                    'controls': 0,
                    'loop': 1,
                    'playlist': '7217Xga4zOw', // Necessário para o loop funcionar, ID do vídeo atualizado
                    'modestbranding': 1,
                    'rel': 0,
                    'showinfo': 0,
                    'playsinline': 1 // Essencial para iOS
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        // A API chama esta função quando o player está pronto.
        function onPlayerReady(event) {
            event.target.mute(); // Deixa mudo para o autoplay funcionar
            event.target.playVideo();
            // Adiciona um listener para tirar o mudo na primeira interação do usuário
            document.body.addEventListener('click', unmuteOnFirstInteraction, { once: true });
            document.body.addEventListener('touchstart', unmuteOnFirstInteraction, { once: true });
        }

        function unmuteOnFirstInteraction() {
            if (player && typeof player.unMute === 'function') {
                player.unMute();
                // Garante que o vídeo toque caso o autoplay inicial tenha sido bloqueado
                if (player.getPlayerState() !== 1) { // 1 === YT.PlayerState.PLAYING
                    player.playVideo();
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // --- Script da Tela de Início ---
            const startScreen = document.getElementById('start-screen');
            const startButton = document.getElementById('start-button');
            const mainContent = document.getElementById('main-content');

            startButton.addEventListener('click', () => {
                startScreen.classList.add('fade-out');
                startScreen.addEventListener('animationend', () => {
                    startScreen.style.display = 'none';
                    mainContent.classList.remove('hidden');
                }, { once: true });
            });
            
            // --- Script para Fundo de Estrelas ---
            const starBackground = document.getElementById('star-background');
            const numStars = 100;
            for (let i = 0; i < numStars; i++) {
                let star = document.createElement('div');
                star.className = 'star';
                let size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 5}s`;
                starBackground.appendChild(star);
            }

            // --- Seção 1: Stalker Simulator 2025 ---
            const stalkerButton = document.getElementById('stalker-button');
            const stalkerQuestion = document.getElementById('stalker-question');
            const stalkerModal = document.getElementById('stalker-modal');
            const modalErrorCode = document.getElementById('modal-error-code');
            const modalErrorDescription = document.getElementById('modal-error-description');
            const modalCloseButton = document.getElementById('modal-close-button');
            
            const sarcasticReplies = [
                "Essa é uma ótima pergunta para se fazer pessoalmente, talvez num rolê que EU vou marcar.",
                "Essa informação é confidencial. Acesso liberado apenas com um 'sim' para o convite no final da página.",
                "Seu pedido foi registrado e será ignorado com sucesso. Tente um método de comunicação mais direto, tipo sair comigo.",
                "Curiosamente, a resposta pra isso não está numa foto de 2018. Que tal descobrir ao vivo?",
                "Mediante tamanho erro, você vai ter que fazer essa pergunta pessoalmente pra mim."
            ];

            function showSarcasticReply() {
                if (stalkerQuestion.value.trim() === "") {
                    modalErrorCode.textContent = "Atenção!";
                    modalErrorCode.classList.remove('text-red-400');
                    modalErrorCode.classList.add('text-amber-300'); // Cor para atenção
                    modalErrorDescription.textContent = "Você precisa perguntar algo primeiro, né?";
                    stalkerModal.classList.remove('hidden');
                    return;
                }
                const errorPrefix = "ERRO 73 (que é o 21º número primo e por coincidência também é o dia do seu aniversário)";
                const randomIndex = Math.floor(Math.random() * sarcasticReplies.length);
                const finalReply = sarcasticReplies[randomIndex];

                modalErrorCode.textContent = errorPrefix;
                modalErrorCode.classList.add('text-red-400');
                modalErrorCode.classList.remove('text-amber-300'); // Remove cor de atenção
                modalErrorDescription.textContent = finalReply;
                stalkerModal.classList.remove('hidden');

                stalkerQuestion.value = "";
            }
            stalkerButton.addEventListener('click', showSarcasticReply);

            function closeModal() {
                stalkerModal.classList.add('hidden');
            }

            modalCloseButton.addEventListener('click', closeModal);
            stalkerModal.addEventListener('click', function(e) {
                if (e.target === stalkerModal) {
                    closeModal();
                }
            });


            // --- Seção 2: Planejador de Rolês ---
            const plannerContent = document.getElementById('planner-content');
            const plannerButton = document.getElementById('planner-button');
            
            const plannerData = {
                activities: ['Big-mais gourmet', 'Sushi', 'Sorveteria', 'Açaí', 'Fatto a Mano', 'Cinema', 'Arcade', 'Dormir de tarde no sofá'],
                days: ['Sexta-feira', 'Sábado', 'Domingo'],
                times: ['18:00h', '19:00h', '20:00h', '21:00h']
            };

            let plannerState = {
                step: 0, // 0: activity, 1: day, 2: time, 3: conclusion
                choices: { activity: null, day: null, time: null }
            };

            function renderPlanner() {
                plannerContent.style.opacity = 0;
                
                setTimeout(() => {
                    // Special check for the sofa route AFTER a day has been chosen
                    if (plannerState.step === 2 && plannerState.choices.activity === 'Dormir de tarde no sofá') {
                        const day = plannerState.choices.day;
                        const encodedText = encodeURIComponent(`Eu topo sair com você pra relaxar no sofá, no ${day}.`);
                        plannerContent.innerHTML = `
                            <h3 class='text-lg text-white mb-4'>Plano Perfeito Aprovado!</h3>
                            <p class='text-xl mb-6'>Isso mesmo, ótima ideia, gostei demais.</p>
                            <p class='text-white mb-6'>${day} é perfeito pra isso. Aperta o botão verde pra gente combinar.</p>
                            <div class='flex flex-col sm:flex-row gap-4 justify-center items-center mt-6'>
                                <a href="https://api.whatsapp.com/send?phone=5533984363259&text=${encodedText}" target="_blank" class="bg-green-500 text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg hover:bg-green-400 inline-block w-full sm:w-auto">
                                    Combinar o Relaxamento
                                </a>
                                <button id="no-button" class="bg-red-500 text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-110 shadow-lg hover:bg-red-400 w-full sm:w-auto relative">
                                    Ainda não estou convencida
                                </button>
                            </div>
                        `;
                        plannerButton.style.display = 'block';
                        plannerContent.style.opacity = 1;
                        return; 
                    }

                    let title = '';
                    let options = [];
                    
                    switch (plannerState.step) {
                        case 0:
                            title = "Passo 1: Escolha o rolê ideal...";
                            options = plannerData.activities;
                            break;
                        case 1:
                            title = `Passo 2: Certo, <span class="text-white">${plannerState.choices.activity}</span>. Agora escolha o dia...`;
                            options = plannerData.days;
                            break;
                        case 2:
                            title = `Passo 3: <span class="text-white">${plannerState.choices.day}</span> é uma boa. E o horário?`;
                            options = plannerData.times;
                            break;
                        case 3:
                            const { activity, day, time } = plannerState.choices;
                            const confirmationText = `Então está combinado: ${activity} no ${day} às ${time}.`;
                            const encodedTextFinal = encodeURIComponent(`Eu topo sair com você em ${activity}, no ${day}, às ${time}.`);

                            plannerContent.innerHTML = `
                                <h3 class='text-lg text-white mb-4'>Plano Perfeito Gerado!</h3>
                                <p class='text-xl mb-6'>${confirmationText}</p>
                                <p class='text-white mb-6'>Só mandar a mensagem pra oficializar.</p>
                                <div class='flex flex-col sm:flex-row gap-4 justify-center items-center mt-6'>
                                    <a href="https://api.whatsapp.com/send?phone=5533984363259&text=${encodedTextFinal}" target="_blank" class="bg-green-500 text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg hover:bg-green-400 inline-block w-full sm:w-auto">
                                        Oficializar o Rolê
                                    </a>
                                    <button id="no-button" class="bg-red-500 text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-110 shadow-lg hover:bg-red-400 w-full sm:w-auto relative">
                                        Ainda não estou convencida
                                    </button>
                                </div>
                            `;
                            plannerButton.style.display = 'block';
                            plannerContent.style.opacity = 1;
                            return;
                    }

                    let htmlContent = `<h3 class='text-lg text-white mb-4'>${title}</h3><div class='flex flex-wrap gap-4 justify-center'>`;
                    options.forEach(option => {
                        htmlContent += `<button data-choice="${option}" class="planner-choice text-white font-bold py-2 px-4 rounded-full">${option}</button>`;
                    });
                    htmlContent += `</div>`;
                    
                    plannerContent.innerHTML = htmlContent;
                    plannerButton.style.display = 'none';
                    plannerContent.style.opacity = 1;
                }, 300);
            }

            function handlePlannerChoice(e) {
                if (!e.target.classList.contains('planner-choice')) return;
                const choice = e.target.dataset.choice;

                if (plannerState.step === 0 && choice === 'Dormir de tarde no sofá') {
                    plannerState.choices.activity = choice;
                    plannerState.step++; 
                } else if (plannerState.step === 1 && plannerState.choices.activity === 'Dormir de tarde no sofá') {
                    plannerState.choices.day = choice;
                    plannerState.step++; 
                } else {
                    switch (plannerState.step) {
                        case 0: plannerState.choices.activity = choice; break;
                        case 1: plannerState.choices.day = choice; break;
                        case 2: plannerState.choices.time = choice; break;
                    }
                    plannerState.step++;
                }
                renderPlanner();
            }
            
            function resetPlanner() {
                plannerState.step = 0;
                plannerState.choices = { activity: null, day: null, time: null };
                renderPlanner();
            }

            plannerContent.addEventListener('click', handlePlannerChoice);
            plannerButton.addEventListener('click', resetPlanner);
            renderPlanner(); // Inicia o planejador


            // --- Lógica para o Botão Fujão ---
            document.body.addEventListener('click', function(e) {
                if (e.target && e.target.id === 'no-button') {
                    const noButton = e.target;
                    
                    noButton.textContent = 'Tente novamente';

                    const maxX = window.innerWidth - noButton.offsetWidth - 100;
                    const maxY = window.innerHeight - noButton.offsetHeight - 100;

                    const randomX = Math.random() * maxX;
                    const randomY = Math.random() * (maxY - 200) + 100;
                    
                    noButton.style.position = 'absolute';
                    noButton.style.left = `${randomX}px`;
                    noButton.style.top = `${randomY}px`;
                }
            });

        });
    </script>

</body>
</html>


